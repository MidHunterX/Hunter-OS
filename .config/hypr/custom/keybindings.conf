# █░█ █▀▀ █░░█ 　 █▀▀▄ ░▀░ █▀▀▄ █▀▀▄ ░▀░ █▀▀▄ █▀▀▀ █▀▀
# █▀▄ █▀▀ █▄▄█ 　 █▀▀▄ ▀█▀ █░░█ █░░█ ▀█▀ █░░█ █░▀█ ▀▀█
# ▀░▀ ▀▀▀ ▄▄▄█ 　 ▀▀▀░ ▀▀▀ ▀░░▀ ▀▀▀░ ▀▀▀ ▀░░▀ ▀▀▀▀ ▀▀▀


# VARIABLES
# ---------
$terminal = kitty
$browser = PYTHONPATH=~/Mid_Hunter/scripts/assistants/ python -m hyprchan.run_firefox
$menu = vicinae open # wofi > fuzzel > vicinae
exec-once = vicinae server
$MODE_RESET = hyprctl dispatch submap reset


# █▀▄▀█ █ █▀ █▀▀
# █░▀░█ █ ▄█ █▄▄
bind = SUPER, Q, exec, $terminal
# Simple Screenshot Functions
bind = , Print, execr, grim | wl-copy
bind = SUPER SHIFT, P, execr, grim -g "$(slurp)" - | wl-copy
bind = SUPER,P,execr,grim ~/Pictures/$(date +%Y%m%d-%H%M%S-%2N).jpg | wl-copy
# Logout Screen
bind = SUPER, B, execr, wlogout --protocol layer-shell
# Exit Hyprland
bind = SUPER SHIFT, B, execr, bash ~/Mid_Hunter/scripts/kill_hypr.sh
# bind = SUPER SHIFT, B, exit,


# ▀█▀ █▀█ ▄▀█ █▄░█ █▀ █▀▀ █▀█ █▀█ █▀▄▀█   █▀▄▀█ █▀█ █▀▄ █▀▀
# ░█░ █▀▄ █▀█ █░▀█ ▄█ █▀░ █▄█ █▀▄ █░▀░█   █░▀░█ █▄█ █▄▀ ██▄
# Transformation mode [MOD+T] like Photoshop
bind = SUPER, T, submap, Transform
submap = Transform
    binde = , h, movefocus, l
    binde = , j, movefocus, d
    binde = , k, movefocus, u
    binde = , l, movefocus, r
    bind = SHIFT, h, movewindow, l
    bind = SHIFT, j, movewindow, d
    bind = SHIFT, k, movewindow, u
    bind = SHIFT, l, movewindow, r
    binde = CTRL, h, resizeactive, -10 0
    binde = CTRL, j, resizeactive, 0 10
    binde = CTRL, k, resizeactive, 0 -10
    binde = CTRL, l, resizeactive, 10 0
    bind = , escape, submap, reset
submap = reset


# █▀▀ █░█ █▀█ █▀ █▀█ █▀█   █▀▄▀█ █▀█ █▀▄ █▀▀
# █▄▄ █▄█ █▀▄ ▄█ █▄█ █▀▄   █░▀░█ █▄█ █▄▀ ██▄
$cursor_show = hyprctl keyword cursor:inactive_timeout 0; hyprctl keyword cursor:hide_on_key_press false
$cursor_hide = hyprctl keyword cursor:inactive_timeout 3; hyprctl keyword cursor:hide_on_key_press true
$cursor_yeet = hyprctl dispatch movecursor 1920 540

bind = SUPER, C, exec, hyprctl dispatch submap Cursor && $cursor_show
submap = Cursor
    # Source: https://github.com/moverest/wl-kbptr
    # Find position and Jump Cursor to it (requires wl-kbptr)
    bind = , f, exec, hyprctl dispatch submap reset && wl-kbptr -o modes=tile && wlrctl pointer move 0 1 && hyprctl dispatch submap Cursor;

    # SUBMAP: ColorPicker
    bind = , C, exec, hyprctl dispatch submap ColorPicker && hyprpicker | wl-copy
    submap = ColorPicker
        binde = , j, exec, wlrctl pointer move 0 1
        binde = , k, exec, wlrctl pointer move 0 -1
        binde = , l, exec, wlrctl pointer move 1 0
        binde = , h, exec, wlrctl pointer move -1 0
        binde = SHIFT, J, exec, wlrctl pointer move 0 5
        binde = SHIFT, K, exec, wlrctl pointer move 0 -5
        binde = SHIFT, L, exec, wlrctl pointer move 5 0
        binde = SHIFT, H, exec, wlrctl pointer move -5 0
        # Pick Color -> Keep mouse away -> Return full control to user
        bind = , i, exec, wlrctl pointer click left && $cursor_yeet && $cursor_hide && $MODE_RESET
        # exit ColorPicker mode
        bind = , escape, exec, hyprctl dispatch submap Cursor && pkill hyprpicker
    submap = Cursor

    # Cursor movement (requires wlrctl)
    binde = , j, exec, wlrctl pointer move 0 10
    binde = , k, exec, wlrctl pointer move 0 -10
    binde = , l, exec, wlrctl pointer move 10 0
    binde = , h, exec, wlrctl pointer move -10 0
    binde = SHIFT, J, exec, wlrctl pointer move 0 50
    binde = SHIFT, K, exec, wlrctl pointer move 0 -50
    binde = SHIFT, L, exec, wlrctl pointer move 50 0
    binde = SHIFT, H, exec, wlrctl pointer move -50 0
    # Click Emulation
    bind = , i, exec, wlrctl pointer click left
    bind = , o, exec, wlrctl pointer click right
    bind = , m, exec, wlrctl pointer click middle
    # Scroll Emulation (up/down)
    binde = , u, exec, wlrctl pointer scroll 10 0
    binde = , d, exec, wlrctl pointer scroll -10 0
    # Scroll Emulation (left/right)
    binde = , b, exec, wlrctl pointer scroll 0 -10
    binde = , w, exec, wlrctl pointer scroll 0 10

    # Exit submap
    bind = , escape, exec, $MODE_RESET && $cursor_hide
submap = reset


# █▀▀ ▀▄▀ █▀▀ █▀▀ █░█ ▀█▀ █▀▀   █▀▄▀█ █▀█ █▀▄ █▀▀
# ██▄ █░█ ██▄ █▄▄ █▄█ ░█░ ██▄   █░▀░█ █▄█ █▄▀ ██▄
bind = SUPER, E, submap, Execute
submap = Execute
    # SUBMAP: Brightness
    bind = , B, submap, Brightness
    submap = Brightness
        binde = , u, exec, swayosd-client --brightness +2
        binde = , d, exec, swayosd-client --brightness -1
        # exit submap
        bind = , x, exec, perl ~/automata/brightness/set_datapoint.pl
        bind = , x, submap, reset
        bind = , q, submap, reset
        bind = , escape, submap, reset
    submap = Execute

    # Firefox Experiment Profile [MOD+E E]
    bind = , E, exec, $MODE_RESET && $browser Experiment
    # Firefox Personal Profile [MOD+E F]
    bind = , F, exec, $MODE_RESET && $browser Personal
    # Kitty Terminal [MOD+F K]
    bind = , K, exec, $MODE_RESET && $terminal ~/Mid_Hunter/scripts/fetch.pl
    # nvim textinput
    bind = , N, exec, $MODE_RESET && perl ~/Mid_Hunter/scripts/nvim_textinput.pl
    # OCR using Tesseract
    bind = , P, exec, $MODE_RESET && grim -g "$(slurp)" - | tesseract - - | wl-copy

    # SUBMAP: Volume
    bind = , V, submap, Volume
    submap = Volume
        binde = , u, exec, swayosd-client --output-volume raise
        binde = , d, exec, swayosd-client --output-volume lower
        bind = , m, exec, swayosd-client --output-volume mute-toggle
        # exit submap
        bind = , x, submap, reset
        bind = , q, submap, reset
        bind = , escape, submap, reset
    submap = Execute

    # Toggle Waybar
    bind = SHIFT, W, exec, $MODE_RESET && killall -SIGUSR1 waybar
    bind = , W, exec, $MODE_RESET && pkill -x waybar 2>/dev/null; waybar

    # exit submap
    bind = , escape, submap, reset
submap = reset


# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█ █▀   █▀ ▀█▀ █▄█ █░░ █▀▀   █▄▄ █ █▄░█ █▀▄ █▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀ ▄█   ▄█ ░█░ ░█░ █▄▄ ██▄   █▄█ █ █░▀█ █▄▀ ▄█
# [Alt+Tab] through existing workspaces
bind = ALT, TAB, workspace, e+1
# [Super+.] Emoji Selector
bind = SUPER, PERIOD, execr, bash ~/Mid_Hunter/scripts/menu_emoji.sh
# [Alt+Space] Launcher
bind = ALT, SPACE, exec, $menu
# Process Manager
bind = CONTROL, ESCAPE, execr, $terminal htop
bind = CONTROL ALT, DELETE, execr, $terminal htop


# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀▄▀█ ▄▀█ █▄░█ ▄▀█ █▀▀ █▀▄▀█ █▀▀ █▄░█ ▀█▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █░▀░█ █▀█ █░▀█ █▀█ █▄█ █░▀░█ ██▄ █░▀█ ░█░
bind = SUPER, X, killactive,
bind = SUPER, F, fullscreen
bind = SUPER, M, togglesplit,
bind = SUPER, V, togglefloating,
# Example special workspace (scratchpad)
bind = SUPER, S, togglespecialworkspace, magic
bind = SUPER SHIFT, S, movetoworkspace, special:magic
# Tab through existing workspaces
bind = SUPER, TAB, workspace, e+1
bind = SUPER SHIFT, TAB, workspace, e-1


# █▀▀ █▀█ █▀▀ █░█ █▀
# █▀░ █▄█ █▄▄ █▄█ ▄█
# Move focus with mainMod + hjkl
bind = SUPER, h, movefocus, l
bind = SUPER, l, movefocus, r
bind = SUPER, k, movefocus, u
bind = SUPER, j, movefocus, d
# Cycle through windows with mainMod + n
bind = SUPER, n, cyclenext


# █▀ █░█░█ █ ▀█▀ █▀▀ █░█
# ▄█ ▀▄▀▄▀ █ ░█░ █▄▄ █▀█
# Switch workspaces
bind = SUPER, U, exec, bash ~/.config/hypr/scripts/switch_now.sh 1
bind = SUPER, I, exec, bash ~/.config/hypr/scripts/switch_now.sh 2
bind = SUPER, O, exec, bash ~/.config/hypr/scripts/switch_now.sh 3
# Switch workspaces with mainMod + [0-9]
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 10


# █▀▄▀█ █▀█ █░█ █▀▀
# █░▀░█ █▄█ ▀▄▀ ██▄
# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow
# Move active window to a workspace
bind = SUPER SHIFT, U, movetoworkspace, 1
bind = SUPER SHIFT, I, movetoworkspace, 2
bind = SUPER SHIFT, O, movetoworkspace, 3
# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9
bind = SUPER SHIFT, 0, movetoworkspace, 10

# Move windows with mainMod + SHIFT + [H/J/K/L]
bind = SUPER SHIFT, H, movewindow, l
bind = SUPER SHIFT, J, movewindow, d
bind = SUPER SHIFT, K, movewindow, u
bind = SUPER SHIFT, L, movewindow, r


# █▀▀ █░█ █▄░█ █▀▀ ▀█▀ █ █▀█ █▄░█   █▀█ █▀█ █░█░█
# █▀░ █▄█ █░▀█ █▄▄ ░█░ █ █▄█ █░▀█   █▀▄ █▄█ ▀▄▀▄▀
# Volume Keys
bindl =, XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
bindl =, XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
bindl =, XF86AudioLowerVolume, exec, swayosd-client --output-volume lower
# Brightness Keys
bindl =, XF86MonBrightnessUp, exec, brillo -q -A 1
bindl =, XF86MonBrightnessDown, exec, brillo -q -U 1
