# █░█ █▀▀ █░░█ 　 █▀▀▄ ░▀░ █▀▀▄ █▀▀▄ ░▀░ █▀▀▄ █▀▀▀ █▀▀
# █▀▄ █▀▀ █▄▄█ 　 █▀▀▄ ▀█▀ █░░█ █░░█ ▀█▀ █░░█ █░▀█ ▀▀█
# ▀░▀ ▀▀▀ ▄▄▄█ 　 ▀▀▀░ ▀▀▀ ▀░░▀ ▀▀▀░ ▀▀▀ ▀░░▀ ▀▀▀▀ ▀▀▀


# VARIABLES
# ---------
$terminal = kitty
$browser = PYTHONPATH=~/Mid_Hunter/scripts/assistants/ python -m hyprchan.run_firefox
$menu = fuzzel
$mainMod = SUPER


# █▀▄▀█ █ █▀ █▀▀
# █░▀░█ █ ▄█ █▄▄
bind = $mainMod, Q, exec, $terminal
# Simple Screenshot Functions
bind = , Print, execr, grim | wl-copy
bind = $mainMod SHIFT, P, execr, grim -g "$(slurp)" - | wl-copy
bind = $mainMod,P,execr,grim ~/Pictures/$(date +%Y%m%d-%H%M%S-%2N).jpg | wl-copy
# Logout Screen
bind = $mainMod, B, execr, wlogout --protocol layer-shell
# Exit Hyprland
bind = $mainMod SHIFT, B, execr, bash ~/Mid_Hunter/scripts/kill_hypr.sh
# bind = $mainMod SHIFT, B, exit,


# ▀█▀ █▀█ ▄▀█ █▄░█ █▀ █▀▀ █▀█ █▀█ █▀▄▀█   █▀▄▀█ █▀█ █▀▄ █▀▀
# ░█░ █▀▄ █▀█ █░▀█ ▄█ █▀░ █▄█ █▀▄ █░▀░█   █░▀░█ █▄█ █▄▀ ██▄
# Transformation mode [MOD+T] like Photoshop
bind = $mainMod, T, submap, Transform
submap = Transform
binde = , h, movefocus, l
binde = , j, movefocus, d
binde = , k, movefocus, u
binde = , l, movefocus, r
bind = SHIFT, h, movewindow, l
bind = SHIFT, j, movewindow, d
bind = SHIFT, k, movewindow, u
bind = SHIFT, l, movewindow, r
binde = CTRL, h, resizeactive, -10 0
binde = CTRL, j, resizeactive, 0 10
binde = CTRL, k, resizeactive, 0 -10
binde = CTRL, l, resizeactive, 10 0
bind = , escape, submap, reset
submap = reset


# █▀▀ █░█ █▀█ █▀ █▀█ █▀█   █▀▄▀█ █▀█ █▀▄ █▀▀
# █▄▄ █▄█ █▀▄ ▄█ █▄█ █▀▄   █░▀░█ █▄█ █▄▀ ██▄
bind=$mainMod,c,exec,hyprctl keyword cursor:inactive_timeout 0; hyprctl keyword cursor:hide_on_key_press false; hyprctl dispatch submap Cursor
submap=Cursor
  # Source: https://github.com/moverest/wl-kbptr
  # Find position and Jump Cursor to it (requires wl-kbptr)
  bind=,f,exec,hyprctl dispatch submap reset && wl-kbptr -o modes=tile && hyprctl dispatch submap Cursor;

  # Cursor movement (requires wlrctl)
  binde=,j,exec,wlrctl pointer move 0 10
  binde=,k,exec,wlrctl pointer move 0 -10
  binde=,l,exec,wlrctl pointer move 10 0
  binde=,h,exec,wlrctl pointer move -10 0
  binde= SHIFT,J,exec,wlrctl pointer move 0 50
  binde= SHIFT,K,exec,wlrctl pointer move 0 -50
  binde= SHIFT,L,exec,wlrctl pointer move 50 0
  binde= SHIFT,H,exec,wlrctl pointer move -50 0
  # Click Emulation
  bind=,i,exec,wlrctl pointer click left
  bind=,o,exec,wlrctl pointer click right
  bind=,m,exec,wlrctl pointer click middle
  # Scroll Emulation (up/down)
  binde=,u,exec,wlrctl pointer scroll 10 0
  binde=,d,exec,wlrctl pointer scroll -10 0
  # Scroll Emulation (left/right)
  binde=,b,exec,wlrctl pointer scroll 0 -10
  binde=,w,exec,wlrctl pointer scroll 0 10

  # Exit submap
  bind=,escape,exec,hyprctl keyword cursor:inactive_timeout 3; hyprctl keyword cursor:hide_on_key_press true; hyprctl dispatch submap reset
submap = reset


# █▀▀ ▀▄▀ █▀▀ █▀▀ █░█ ▀█▀ █▀▀   █▀▄▀█ █▀█ █▀▄ █▀▀
# ██▄ █░█ ██▄ █▄▄ █▄█ ░█░ ██▄   █░▀░█ █▄█ █▄▀ ██▄
bind = $mainMod, E, submap, Execute
$reset = hyprctl dispatch submap reset &&
submap = Execute
  # Firefox Personal Profile [MOD+E F]
  bind = , F, exec, $reset $browser Personal
  # Firefox Experiment Profile [MOD+E E]
  bind = , E, exec, $reset $browser Experiment
  # Kitty Terminal [MOD+F K]
  bind = , K, exec, $reset $terminal ~/Mid_Hunter/scripts/fetch.sh

  # Toggle Waybar
  bind = SHIFT, W, exec, $reset killall -SIGUSR1 waybar
  bind = , W, exec, $reset pgrep -x waybar >/dev/null && killall waybar && waybar || waybar &

  # SUBMAP: Brightness
  bind = , B, submap, Brightness (u=up, d=down, x=save, q=quit)
  submap = Brightness (u=up, d=down, x=save, q=quit)
    binde=, u, exec, swayosd-client --brightness +2
    binde=, d, exec, swayosd-client --brightness -1
    # exit submap
    bind =, x, exec, bash ~/Mid_Hunter/scripts/set_brightness.sh
    bind =, x, submap, reset
    bind =, q, submap, reset
    bind =, escape, submap, reset
  submap = Execute

  # SUBMAP: Volume
  bind = , V, submap, Volume (u=up, d=down, m=mute, {x,q}=quit)
  submap = Volume (u=up, d=down, m=mute, {x,q}=quit)
    binde =, u, exec, swayosd-client --output-volume raise
    binde =, d, exec, swayosd-client --output-volume lower
    bind =, m, exec, swayosd-client --output-volume mute-toggle
    # exit submap
    bind =, x, submap, reset
    bind =, q, submap, reset
    bind =, escape, submap, reset
  submap = Execute

  # nvim textinput
  bind = , N, exec, $reset bash ~/Mid_Hunter/scripts/nvim_textinput.sh
  # OCR using Tesseract
  bind = , P, exec, $reset grim -g "$(slurp)" - | tesseract - - | wl-copy

  # exit submap
  bind = , escape, submap, reset
submap = reset


# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█ █▀   █▀ ▀█▀ █▄█ █░░ █▀▀   █▄▄ █ █▄░█ █▀▄ █▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀ ▄█   ▄█ ░█░ ░█░ █▄▄ ██▄   █▄█ █ █░▀█ █▄▀ ▄█
# [Alt+Tab] through existing workspaces
bind = ALT, TAB, workspace, e+1
# [Super+.] Emoji Selector
bind = $mainMod, PERIOD, execr, bash ~/Mid_Hunter/scripts/menu_emoji.sh
# [Alt+Space] Launcher
bind = ALT, SPACE, exec, $menu
# Process Manager
bind = CONTROL, ESCAPE, execr, $terminal htop
bind = CONTROL ALT, DELETE, execr, $terminal htop


# █░█░█ █ █▄░█ █▀▄ █▀█ █░█░█   █▀▄▀█ ▄▀█ █▄░█ ▄▀█ █▀▀ █▀▄▀█ █▀▀ █▄░█ ▀█▀
# ▀▄▀▄▀ █ █░▀█ █▄▀ █▄█ ▀▄▀▄▀   █░▀░█ █▀█ █░▀█ █▀█ █▄█ █░▀░█ ██▄ █░▀█ ░█░
bind = $mainMod, X, killactive,
bind = $mainMod, F, fullscreen
bind = $mainMod, M, togglesplit,
bind = $mainMod, V, togglefloating,
# Example special workspace (scratchpad)
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic
# Tab through existing workspaces
bind = $mainMod, TAB, workspace, e+1
bind = $mainMod SHIFT, TAB, workspace, e-1


# █▀▀ █▀█ █▀▀ █░█ █▀
# █▀░ █▄█ █▄▄ █▄█ ▄█
# Move focus with mainMod + hjkl
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d
# Cycle through windows with mainMod + n
bind = $mainMod, n, cyclenext


# █▀ █░█░█ █ ▀█▀ █▀▀ █░█
# ▄█ ▀▄▀▄▀ █ ░█░ █▄▄ █▀█
# Switch workspaces
bind = $mainMod, U, exec, bash ~/.config/hypr/scripts/switch_now.sh 1
bind = $mainMod, I, exec, bash ~/.config/hypr/scripts/switch_now.sh 2
bind = $mainMod, O, exec, bash ~/.config/hypr/scripts/switch_now.sh 3
# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10


# █▀▄▀█ █▀█ █░█ █▀▀
# █░▀░█ █▄█ ▀▄▀ ██▄
# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
# Move active window to a workspace
bind = $mainMod SHIFT, U, movetoworkspace, 1
bind = $mainMod SHIFT, I, movetoworkspace, 2
bind = $mainMod SHIFT, O, movetoworkspace, 3
# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Move windows with mainMod + SHIFT + [H/J/K/L]
bind = $mainMod SHIFT, H, movewindow, l
bind = $mainMod SHIFT, J, movewindow, d
bind = $mainMod SHIFT, K, movewindow, u
bind = $mainMod SHIFT, L, movewindow, r


# █▀▀ █░█ █▄░█ █▀▀ ▀█▀ █ █▀█ █▄░█   █▀█ █▀█ █░█░█
# █▀░ █▄█ █░▀█ █▄▄ ░█░ █ █▄█ █░▀█   █▀▄ █▄█ ▀▄▀▄▀
# Volume Keys
bindl =, XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
bindl =, XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise
bindl =, XF86AudioLowerVolume, exec, swayosd-client --output-volume lower
# Brightness Keys
bindl =, XF86MonBrightnessUp, exec, brillo -q -A 1
bindl =, XF86MonBrightnessDown, exec, brillo -q -U 1
